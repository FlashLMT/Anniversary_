<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>á€á€»á€…á€ºá€á€¼á€„á€ºá€¸á€™á€±á€á€¹á€á€¬ á€…á€¬á€¡á€­á€á€º</title>
    <link rel="stylesheet" href="style.css"> 
    
    <style>
        /* ------------------------------------------------ */
        /* âœ¨ ENVELOPE & MODAL CSS Styles (á€•á€±á€«á€„á€ºá€¸á€…á€•á€ºá€‘á€¬á€¸á€á€Šá€º) âœ¨ */
        /* ------------------------------------------------ */
        
        /* á€¡á€á€¼á€±á€á€¶ á€…á€á€­á€¯á€„á€ºá€™á€»á€¬á€¸ */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f7f0e6;
            margin: 0;
            overflow-x: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* á€…á€¬á€¡á€­á€á€ºá€…á€á€­á€¯á€„á€ºá€™á€»á€¬á€¸ */
        .envelope-wrapper {
            position: relative;
            width: 80vw; max-width: 350px; height: calc(80vw * 2 / 3); max-height: 233px; 
            cursor: pointer;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3); 
            perspective: 1000px; 
            transition: transform 0.5s ease;
            border-radius: 5px;
        }
        .envelope-body {
            position: absolute; width: 100%; height: 100%;
            background-color: #F8B4BD; 
            clip-path: polygon(0 0, 100% 0, 100% 100%, 50% 85%, 0 100%); 
            z-index: 2; border-radius: 5px;
        }
        .envelope-flap {
            position: absolute; top: 0; left: 0; width: 0; height: 0;
            border-left: 50% solid transparent; border-right: 50% solid transparent;
            border-top: 55% solid #D2798A;
            transform-origin: top; transition: transform 0.5s ease; z-index: 3;
        }
        .envelope-body::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #ffffff;
            clip-path: polygon(0 0, 100% 0, 50% 50%);
            z-index: 1;
        }
        .envelope-wrapper.open .envelope-flap {
            transform: rotateX(180deg); z-index: 1; 
        }
        .envelope-wrapper.open {
            transform: scale(0.9);
        }

        /* Modal/Popup á€…á€á€­á€¯á€„á€ºá€™á€»á€¬á€¸ (Shared Styles) */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.7); 
            display: flex; justify-content: center; align-items: center;
            z-index: 100; 
            visibility: hidden; opacity: 0;
            transition: visibility 0s, opacity 0.3s;
        }
        .modal-overlay.show {
            visibility: visible; opacity: 1;
        }
        .modal-content, .letter-modal {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            width: 90%; max-width: 400px;
            position: relative;
            transform: scale(0.8);
            transition: transform 0.3s ease-out;
        }
        .modal-overlay.show .modal-content, .modal-overlay.show .letter-modal {
            transform: scale(1);
        }

        /* PIN Modal á€á€®á€¸á€á€”á€·á€º á€…á€á€­á€¯á€„á€ºá€™á€»á€¬á€¸ */
        #pin-modal .modal-content {
            text-align: center;
            max-width: 320px;
        }

        .pin-inputs {
            display: flex;
            justify-content: space-around; 
            gap: 20px; 
            margin: 20px auto; 
            width: 60%; 
        }

        .pin-digit {
            width: 50px;
            height: 50px;
            font-size: 24px;
            text-align: center;
            border: 2px solid #ccc;
            border-radius: 5px;
            transition: border-color 0.2s;
            outline: none;
        }

        .pin-digit:focus {
            border-color: #D2798A;
        }

        .error-message {
            color: #ff4d4d;
            height: 20px;
            margin-top: 10px;
            font-size: 14px;
        }

        /* Letter Modal á€…á€á€­á€¯á€„á€ºá€™á€»á€¬á€¸ */
        .letter-modal { max-width: 450px; }
        .letter-modal p { margin: 15px 0; line-height: 1.7; color: #333; font-size: 17px; }
        .letter-modal .main-message { font-size: 19px; font-weight: 600; }
        .letter-modal .signature { text-align: right; font-style: italic; margin-top: 30px; color: #555; font-size: 15px; }
        .letter-modal hr { border: none; border-top: 1px dashed #ccc; margin: 10px 0; }
        .close-btn { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer; color: #888; }
    </style>
</head>
<body>

    <div class="envelope-wrapper">
        <div class="envelope-flap" id="flap"></div>
        <div class="envelope-body"></div>
    </div>
    
    <div id="pin-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>ğŸ”‘ á€œá€»á€¾á€­á€¯á€·á€á€¾á€€á€ºá€”á€¶á€•á€«á€á€º á‚ á€œá€¯á€¶á€¸</h2>
            <p>á€á€»á€…á€ºá€…á€¬á€€á€­á€¯ á€–á€á€ºá€›á€¾á€¯á€›á€”á€º á€”á€¶á€•á€«á€á€º (á‚) á€œá€¯á€¶á€¸ á€›á€­á€¯á€€á€ºá€‘á€Šá€·á€ºá€•á€«á‹</p>
            <div class="pin-inputs">
                <input type="password" maxlength="1" inputmode="numeric" class="pin-digit" data-index="0">
                <input type="password" maxlength="1" inputmode="numeric" class="pin-digit" data-index="1">
            </div>
            <p id="pin-message" class="error-message"></p>
        </div>
    </div>
    
    <div id="letter-modal-overlay" class="modal-overlay">
        <div class="letter-modal">
            <button class="close-btn">&times;</button>
            <p>ğŸ’Œ á€¡á€á€»á€…á€ºá€†á€¯á€¶á€¸... **Ma**</p>
            <hr>
            <p class="main-message">
                á€’á€®á€…á€¬á€¡á€­á€á€ºá€œá€±á€¸á€€á€­á€¯ á€–á€½á€„á€·á€ºá€€á€¼á€Šá€·á€ºá€á€²á€·á€¡á€á€½á€€á€º á€€á€»á€±á€¸á€‡á€°á€¸á€á€„á€ºá€•á€«á€á€šá€ºá‹ á€™á€„á€ºá€¸á€›á€²á€· á€”á€±á€·á€›á€€á€ºá€á€­á€¯á€„á€ºá€¸á€Ÿá€¬ á€„á€«á€·á€¡á€á€½á€€á€º **á€¡á€œá€„á€ºá€¸á€›á€±á€¬á€„á€º** á€•á€«á€•á€²á‹ á€™á€„á€ºá€¸á€€á€­á€¯ á€á€»á€…á€ºá€á€²á€·á€¡á€€á€¼á€±á€¬á€„á€ºá€¸ á€…á€€á€¬á€¸á€œá€¯á€¶á€¸á€á€½á€±á€”á€²á€· á€–á€±á€¬á€ºá€•á€¼á€œá€­á€¯á€· á€™á€€á€¯á€”á€ºá€•á€«á€˜á€°á€¸á‹
            </p>
            <hr>
            <p class="signature">á€á€»á€…á€ºá€á€¼á€„á€ºá€¸á€™á€»á€¬á€¸á€…á€½á€¬á€–á€¼á€„á€·á€ºáŠ **Mg**</p>
        </div>
    </div>

    <script>
        const envelopeWrapper = document.querySelector('.envelope-wrapper');
        const pinModal = document.getElementById('pin-modal');
        const letterModalOverlay = document.getElementById('letter-modal-overlay');
        const pinInputs = document.querySelectorAll('.pin-digit'); 
        const pinMessage = document.getElementById('pin-message');
        const closeBtn = document.querySelector('#letter-modal-overlay .close-btn');

        // á€œá€»á€¾á€­á€¯á€·á€á€¾á€€á€ºá€”á€¶á€•á€«á€á€º á€á€á€ºá€™á€¾á€á€ºá€á€»á€€á€º (á€”á€¶á€•á€«á€á€ºá€”á€¾á€…á€ºá€œá€¯á€¶á€¸ '11' á€–á€¼á€…á€ºá€›á€™á€Šá€º)
        const CORRECT_PIN = '11'; 
        const PIN_LENGTH = 2; // PIN á€¡á€›á€¾á€Šá€ºá€€á€­á€¯ 2 á€¡á€–á€¼á€…á€º á€á€á€ºá€™á€¾á€á€ºá€á€¼á€„á€ºá€¸

        // Modal á€™á€»á€¬á€¸á€€á€­á€¯ á€•á€­á€á€ºá€á€Šá€·á€º Function
        function closeModal(modalElement) {
            modalElement.classList.remove('show');
        }

        // á€…á€¬á€¡á€­á€á€ºá€€á€­á€¯ á€”á€¾á€­á€•á€ºá€œá€­á€¯á€€á€ºá€á€²á€·á€¡á€á€«
        envelopeWrapper.addEventListener('click', () => {
            envelopeWrapper.classList.add('open');
            
            setTimeout(() => {
                pinModal.classList.add('show');
                pinInputs[0].focus(); 
                pinMessage.textContent = ''; 
            }, 300);
        });

        // PIN Input Logic
        pinInputs.forEach((input, index) => {
            // á€”á€¶á€•á€«á€á€ºá€›á€­á€¯á€€á€ºá€‘á€Šá€·á€ºá€•á€¼á€®á€¸á€á€­á€¯á€„á€ºá€¸ á€”á€±á€¬á€€á€º Input á€€á€­á€¯ á€›á€½á€¾á€±á€·á€á€¼á€„á€ºá€¸
            input.addEventListener('input', function() {
                if (this.value.length === 1 && index < PIN_LENGTH - 1) {
                    pinInputs[index + 1].focus();
                }
                
                // á€”á€¶á€•á€«á€á€º á‚ á€œá€¯á€¶á€¸ á€•á€¼á€Šá€·á€ºá€•á€¼á€®á€†á€­á€¯á€œá€»á€¾á€„á€º á€…á€…á€ºá€†á€±á€¸á€á€¼á€„á€ºá€¸
                if (index === PIN_LENGTH - 1 && this.value.length === 1) {
                    validatePin();
                }
            });

            // Backspace á€”á€¾á€­á€•á€ºá€œá€»á€¾á€„á€º á€›á€¾á€±á€· Input á€€á€­á€¯ á€•á€¼á€”á€ºá€›á€½á€¾á€±á€·á€á€¼á€„á€ºá€¸
            input.addEventListener('keydown', function(event) {
                if (event.key === 'Backspace' && this.value.length === 0 && index > 0) {
                    pinInputs[index - 1].focus();
                }
            });
        });

        // PIN á€…á€…á€ºá€†á€±á€¸á€á€¼á€„á€ºá€¸ Function
        function validatePin() {
            let enteredPin = '';
            pinInputs.forEach(input => {
                enteredPin += input.value;
            });

            if (enteredPin.length < PIN_LENGTH) {
                return; // á€”á€¶á€•á€«á€á€º á€™á€•á€¼á€Šá€·á€ºá€á€±á€¸á€›á€„á€º á€™á€…á€…á€ºá€†á€±á€¸á€•á€«
            }

            if (enteredPin === CORRECT_PIN) {
                // PIN á€™á€¾á€”á€ºá€€á€”á€ºá€œá€»á€¾á€„á€º
                pinMessage.textContent = 'á€œá€»á€¾á€­á€¯á€·á€á€¾á€€á€ºá€”á€¶á€•á€«á€á€º á€™á€¾á€”á€ºá€€á€”á€ºá€•á€«á€á€Šá€ºá‹';
                
                // áá‹ PIN Modal á€€á€­á€¯ á€•á€­á€á€ºá€á€¼á€„á€ºá€¸
                closeModal(pinModal);
                
                // á‚á‹ Letter Modal á€€á€­á€¯ á€•á€±á€«á€ºá€œá€¬á€…á€±á€›á€”á€º
                setTimeout(() => {
                    letterModalOverlay.classList.add('show');
                }, 300);

            } else {
                // PIN á€™á€¾á€¬á€¸á€šá€½á€„á€ºá€¸á€œá€»á€¾á€„á€º
                pinMessage.textContent = 'á€™á€¾á€¬á€¸á€šá€½á€„á€ºá€¸á€á€±á€¬ á€œá€»á€¾á€­á€¯á€·á€á€¾á€€á€ºá€”á€¶á€•á€«á€á€ºá‹ á€•á€¼á€”á€ºá€›á€­á€¯á€€á€ºá€•á€«á‹';
                
                // Input á€™á€»á€¬á€¸á€€á€­á€¯ á€›á€¾á€„á€ºá€¸á€á€¼á€„á€ºá€¸
                pinInputs.forEach(input => {
                    input.value = '';
                });
                pinInputs[0].focus();
            }
        }

        // Modal á€•á€­á€á€ºá€á€¼á€„á€ºá€¸ Logic 
        closeBtn.addEventListener('click', () => {
            closeModal(letterModalOverlay);
            envelopeWrapper.classList.remove('open'); 
        });

        letterModalOverlay.addEventListener('click', (event) => {
            if (event.target === letterModalOverlay) {
                closeModal(letterModalOverlay);
                envelopeWrapper.classList.remove('open'); 
            }
        });
    </script>
</body>
</html>

